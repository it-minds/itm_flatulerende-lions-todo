<div class="flex flex-col items-center pt-[8vh] gap-5 w-[90vw] md:w-[75vw]">
  <add-task
    [todoId]="this.todoListId"
    (newTask)="onNewTaskAdded($event)"
  ></add-task>

  <mat-accordion class="flex flex-col content-between w-full m-0">
    <!-- Et forsøg på at give en overskrift til accordionen vv -->

    <!-- <mat-expansion-panel disabled class="p-0 flex flex-col content-between">
      <mat-expansion-panel-header
        class="flex items-center pl-40 px-2 md:px-4 bg-slate-600 h-6 text-white"
      >
        <div class="flex justify-between w-[90%]">
          <span>Name</span>
          <span *ngIf="this.getScreenWidth > this.mdScreenSize"
            >Description</span
          >
        </div>
      </mat-expansion-panel-header>
    </mat-expansion-panel> -->

    <mat-expansion-panel
      [disabled]="!task.subTasks || task.subTasks.length < 1"
      *ngFor="let task of todoListTasks"
      class="p-0 flex flex-col content-between"
    >
      <mat-expansion-panel-header
        class="flex justify-between px-2 md:px-4 h-12 md:h-16"
      >
        <mat-panel-title class="flex text-sm md:text-lg justify-end">
          <app-task
            (updatedTask)="onTaskUpdated($event)"
            [task]="task"
            (checkedChangedEvent)="onCheckboxChanged($event)"
          ></app-task>
        </mat-panel-title>
        <!-- <mat-panel-description
          class="text-sm text-white text-opacity-100"
          *ngIf="this.getScreenWidth > mdScreenSize"
        >
          {{ task.taskDesc }}
        </mat-panel-description> -->
      </mat-expansion-panel-header>
      <div
        class="flex flex-col items-center pt-5 gap-1"
        *ngIf="task.subTasks && task.subTasks.length > 0"
      >
        <!-- <div
          *ngFor="let subtask of task.subTasks"
          class="flex flex-col items-center md:w-[50%] gap-1"
        >
          <!-- <span class="flex w-[50%] justify-center md:text-lg">
            {{ subtask.subName }}</span
          >
          <mat-checkbox
            color="accent"
            class="example-margin"
            [checked]="subtask.subComplete"
          ></mat-checkbox> -->
        -->
        <div
          class="md:text-lg flex h-6 w-full py-3 px-3 justify-between gap-5 rounded-md items-center bg-gray-700 text-white border border-black"
          *ngFor="let subtask of task.subTasks"
        >
          <span class="text-left">{{ subtask.subName }}</span>
          <mat-checkbox
            color="accent"
            class="example-margin"
            [checked]="subtask.subComplete"
          ></mat-checkbox>
          <!-- (change)="onSubTaskCompleted(subtask.subTaskId)" -->
        </div>
      </div>
      <!-- </div> -->
      <div
        *ngIf="!task.subTasks || task.subTasks.length < 0"
        class="flex justify-center text-2xl pt-5"
      >
        No Subtasks
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
